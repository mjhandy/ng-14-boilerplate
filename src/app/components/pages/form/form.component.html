<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-6">
      <h1>Form Fields</h1>
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="form" >
        <fieldset>
          <legend>Name and Email</legend>
          <div class="form-floating">
            <input 
              type="text" 
              formControlName="fName"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && getControl.fName.errors}"
              placeholder="First Name" 
              required>
            <label for="fName">First Name <span class="required">*</span></label>
            <div class="form-error mb-3 text-danger" aria-live="polite">
              <ng-template [ngIf]="submitted && getControl.fName.errors">
                <ng-template [ngIf]="getControl['fName'].errors['required'] ">First Name is required.</ng-template>
                <ng-template [ngIf]="getControl['fName'].errors['pattern'] ">First Name is not valid. Try again</ng-template>
              </ng-template>
            </div>     
          </div>
          <div class="form-floating mb-3">
            <input 
              type="text"
              formControlName="lName" 
              class="form-control" 
              [ngClass]="{ 'is-invalid': submitted && getControl.lName.errors}"
              id="lName" 
              placeholder="Last Name"
              required >
            <label for="lName">Last Name <span class="required">*</span></label>
            <div class="form-error mb-3 text-danger" aria-live="polite">
              <ng-template [ngIf]="submitted && getControl.lName.errors">
                <ng-template [ngIf]="getControl['lName'].errors['required']">Last Name is required. </ng-template>
                <ng-template [ngIf]="getControl['lName'].errors['pattern'] ">Last Name is not valid. Try again. </ng-template>            
              </ng-template>
            </div>           
          </div>
          <div class="form-floating mb-3">
            <input 
              type="email"
              formControlName="email" 
              class="form-control" 
              [ngClass]="{ 'is-invalid': submitted && getControl.email.errors}"
              id="email" 
              placeholder="Email Address"
              required >
              <label for="email">Email Address <span class="required">*</span></label>
              <div class="form-error mb-3 text-danger" aria-live="polite">
                <ng-template [ngIf]="submitted && getControl.email.errors">
                  <ng-template [ngIf]="getControl['email'].errors['required']">Email is required</ng-template>
                  <ng-template [ngIf]="getControl['email'].errors['pattern']">Email is is not valid</ng-template>               
                </ng-template>
              </div>               
          </div>
        
        </fieldset>
        <fieldset>
          <legend>Password </legend>
          <div class="form-floating">
            <input 
              type="text" 
              formControlName="pWord"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && getControl.pWord.errors}"
              placeholder="Password" 
              required>
            <label for="pWord">Password <span class="required">*</span></label>
            <div class="form-error mb-3 text-danger" aria-live="polite">
              <ng-template [ngIf]="submitted && getControl.pWord.errors">
                <ng-template [ngIf]="getControl['pWord'].errors['required'] ">Password is required.</ng-template>
                <ng-template [ngIf]="getControl['pWord'].errors['pattern'] ">Minimum eight characters, at least one upper case, one lower case letter, one number and one special character</ng-template>
              </ng-template>
            </div>  
          </div>
          <div class="form-floating">
            <input 
              type="text" 
              formControlName="pWordMatch"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && getControl.pWord.errors}"
              placeholder="Confirm Password" 
              required>
            <label for="pWord">Confirm Password <span class="required">*</span></label>
            <div class="form-error mb-3 text-danger" aria-live="polite">
              <ng-template [ngIf]="submitted && getControl.pWord.errors">
                <ng-template [ngIf]="getControl['pWord'].errors['required'] ">Password is required.</ng-template>
                <ng-template [ngIf]="getControl['pWord'].errors['pattern'] ">Minimum eight characters, at least one upper case, one lower case letter, one number and one special character</ng-template>
              </ng-template>
            </div>  
          </div>          
        </fieldset>
        <fieldset>
          <legend>Form Controls</legend>
          <div>
            <button class="btn btn-primary" type="submit" >Submit</button>
          </div>          
        </fieldset>
      </form>
    </div>   
  </div>
</div>